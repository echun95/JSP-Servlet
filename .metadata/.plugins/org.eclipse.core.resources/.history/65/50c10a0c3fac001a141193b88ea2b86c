<%@page import="kr.or.ddit.member.service.MemberServiceImpl"%>
<%@page import="kr.or.ddit.member.service.IMemberService"%>
<%@page import="java.lang.reflect.InvocationTargetException"%>
<%@page import="org.apache.commons.beanutils.BeanUtils"%>
<%@page import="kr.or.ddit.vo.MemberVO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%
	request.setCharacterEncoding("UTF-8");
	MemberVO memberInfo = new MemberVO();

	 try {
		BeanUtils.populate(memberInfo, request.getParameterMap());
	} catch (IllegalAccessException e) {
		e.printStackTrace();
	} catch (InvocationTargetException e) {
		e.printStackTrace();
	}
	String mem_comtel1 = request.getParameter("mem_comtel1");
	 String mem_bir1 = request.getParameter("mem_bir1");	
		String mem_bir2 = request.getParameter("mem_bir2");
		String mem_bir3 = request.getParameter("mem_bir3");
		
		memberInfo.setMem_bir(mem_bir1 + "-"+mem_bir2+ "-" +mem_bir3);
		
		String mem_homtel1 = request.getParameter("mem_hometel1");
		String mem_homtel2 = request.getParameter("mem_hometel2");
		String mem_homtel3 = request.getParameter("mem_hometel3");
		
		memberInfo.setMem_hometel(mem_homtel1+ "-"+mem_homtel2+ "-"+mem_homtel3);
		
		
		String mem_hp1 = request.getParameter("mem_hp1");
		String mem_hp2 = request.getParameter("mem_hp2");
		String mem_hp3 = request.getParameter("mem_hp3");
		
		memberInfo.setMem_hp(mem_hp1 + "-"+mem_hp2+"_"+mem_hp3);
		
		String mem_mail1 = request.getParameter("mem_mail1");
		String mem_mail2 = request.getParameter("mem_mail2");
		
		memberInfo.setMem_mail(mem_mail1+ "@"+ mem_mail2);
		
		String mem_zip1 = request.getParameter("mem_zip1");
		String mem_zip2 = request.getParameter("mem_zip2");
		
		memberInfo.setMem_zip(mem_zip1 + "-"+mem_zip2);
		
	IMemberService service = MemberServiceImpl.getInstance();
	service.insertMember(memberInfo);

	response.sendRedirect(request.getContextPath()+"/09/loginForm.jsp"); 
%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>

</body>
</html>