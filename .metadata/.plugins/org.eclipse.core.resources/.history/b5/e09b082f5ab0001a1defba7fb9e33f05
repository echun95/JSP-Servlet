<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
    
<sqlMap namespace="buyer">
	<typeAlias alias = "buyerVO" type = "kr.or.ddit.vo.BuyerVO"/>
	
	
	<select id = "buyerList" parameterClass="Map" resultClass="buyerVO">
		SELECT *
		FROM BUYER
		WHERE BUYER_NAME LIKE '%'||#buyer_id#||'%'		
	</select>
	
	<select id="buyerListAll" resultClass="java.util.HashMap">
		select *
		from lprod l join buyer b 
		on(l.lprod_gu = b.buyer_lgu)
		where b.buyer_delete = 'n'
	</select>
	
	<select id="buyerInfo" resultClass="buyerVO" parameterClass="String">
		select *
		from buyer
		where buyer_id = #buyer_id#
	</select>
	
	<update id="updateBuyerInfo" parameterClass="String">
		update buyer set buyer_delete = 'y' 
		where buyer_id = #data#
	</update>
</sqlMap>